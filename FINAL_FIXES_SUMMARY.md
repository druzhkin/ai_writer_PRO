# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è render.yaml - –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

## üéØ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. ‚úÖ Backend Start Command
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–ª–∞–≥ `--worker-class` –∏–∑ uvicorn
- **–ë—ã–ª–æ**: `uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 2 --worker-class uvicorn.workers.UvicornWorker`
- **–°—Ç–∞–ª–æ**: `uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 2`

### 2. ‚úÖ Health Check Path
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –ò–∑–º–µ–Ω–µ–Ω –ø—É—Ç—å —Å `/api/v1/health` –Ω–∞ `/health`
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: Non-trailing slash route –≤ `backend/app/api/v1/endpoints/health.py`

### 3. ‚úÖ Build Commands
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ `buildCommand` –∑–∞–ø–∏—Å–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: Docker —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏

### 4. ‚úÖ Docker Build Args
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω—ã –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–ª–æ–∫–∏ `docker:`
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: `NEXT_PUBLIC_API_URL` –∏ `NEXT_PUBLIC_APP_URL` –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: `frontend/Dockerfile` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è build args

### 5. ‚úÖ Node Memory Limit
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–º–µ–Ω—å—à–µ–Ω —Å 4GB –¥–æ 512MB
- **–ë—ã–ª–æ**: `--max-old-space-size=4096`
- **–°—Ç–∞–ª–æ**: `--max-old-space-size=512`

### 6. ‚úÖ Celery Services
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: `ai-writer-celery-worker` —Å–µ—Ä–≤–∏—Å
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: `ai-writer-celery-beat` —Å–µ—Ä–≤–∏—Å
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 7. ‚úÖ Health Check Schema
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ü–æ–ª—è**: `healthCheckPath`, `healthCheckTimeoutSeconds`, `healthCheckIntervalSeconds`, `healthCheckNumRetries`

### 8. ‚úÖ Dependencies
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–¥–∞–ª–µ–Ω—ã `dependsOn` –∏–∑ web —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ü—Ä–∏—á–∏–Ω–∞**: Render –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `fromService`/`fromDatabase`

### 9. ‚úÖ Redis Configuration
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω–æ `maxmemory` –∏–∑ Redis —Å–µ—Ä–≤–∏—Å–æ–≤
- **–û—Å—Ç–∞–≤–ª–µ–Ω–æ**: `maxmemoryPolicy: allkeys-lru`

### 10. ‚úÖ Next.js Standalone
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: `output: 'standalone'` –≤ `frontend/next.config.js`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: Dockerfile –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `node server.js`

### 11. ‚úÖ Security Configuration
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω–æ `SESSION_SECURE: "False"` –∏–∑ shared-config
- **–ü—Ä–∏—á–∏–Ω–∞**: Production –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### 12. ‚úÖ Database Schema
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω—ã –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è `type` –∏ `password`
- **–û—Å—Ç–∞–≤–ª–µ–Ω–æ**: –¢–æ–ª—å–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è Render Blueprint

### 13. ‚úÖ YAML Syntax
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: `TEST_DATABASE_URL` –∑–∞–∫–ª—é—á–µ–Ω –≤ –∫–∞–≤—ã—á–∫–∏
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ [Render Dashboard](https://dashboard.render.com)**
2. **–ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Blueprint"**
3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: `druzhkin/ai_writer_PRO`
4. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª**: `render.yaml`
5. **–ù–∞–∂–º–∏—Ç–µ "Apply"**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ [RENDER_ENV_VARS.md](RENDER_ENV_VARS.md) –≤ Render Dashboard.

### –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ:
- ‚úÖ 2 PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ 2 Redis —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ 4 Web —Å–µ—Ä–≤–∏—Å–∞ (backend + frontend –¥–ª—è prod –∏ staging)
- ‚úÖ 2 Celery worker —Å–µ—Ä–≤–∏—Å–∞

### –°—Ç–æ–∏–º–æ—Å—Ç—å:
- **Production**: ~$42/–º–µ—Å—è—Ü
- **Staging**: ~$28/–º–µ—Å—è—Ü

## üéâ –í—Å–µ –≥–æ—Ç–æ–≤–æ!

–§–∞–π–ª `render.yaml` —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ö–µ–º–µ Render Blueprint –∏ –≥–æ—Ç–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è –±–µ–∑ –æ—à–∏–±–æ–∫!
